$(document).ready(function(){function a(){console.log("rebuild start"),$.ajax("/api/next-user",{type:"get"}).then(function(a){if(a.username){$("#userPortal").removeClass("d-none"),c.attr("data-id",a.id),c.html(a.username),d.html(a.description);let b=$("<div>").html(a.weed_pref);g.append(b)}else $("#failCont").removeClass("d-none"),$("#userPortal").addClass("d-none");console.log("rebuild finished",a)})}const b=$("#userID").attr("data-id"),c=$("#cardTitle"),d=$("#userDescription"),e=$("#liked"),f=$("#disliked"),g=$("#userweedPref");console.log(g),a(),e.on("click",()=>{$.ajax("/api/ratings",{type:"post",data:{rating:"1",initiator_user_id:b,target_user_id:c.attr("data-id")}}).then(()=>{a()})}),f.on("click",()=>{$.ajax("/api/ratings",{type:"post",data:{rating:"-1",initiator_user_id:b,target_user_id:c.attr("data-id")}}).then(()=>{a()})})});